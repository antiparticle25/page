"use strict";(self.webpackChunkgenomics_docusaurus_new=self.webpackChunkgenomics_docusaurus_new||[]).push([[154],{3132:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"graphdb/examples","title":"Examples & AI Integration","description":"Examples","source":"@site/docs/graphdb/examples.md","sourceDirName":"graphdb","slug":"/graphdb/examples","permalink":"/datasolutions/graphdb/examples","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Examples & AI Integration","sidebar_position":2,"hide_title":true},"sidebar":"docsSidebar","previous":{"title":"Overview","permalink":"/datasolutions/graphdb/"}}');var a=t(4848),s=t(8453);const o={title:"Examples & AI Integration",sidebar_position:2,hide_title:!0},i=void 0,p={},l=[{value:"Examples",id:"examples",level:2},{value:"AI Integration",id:"ai-integration",level:2}];function c(e){const n={code:"code",em:"em",h2:"h2",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)("div",{style:{textAlign:"justify"},children:[(0,a.jsx)(n.p,{children:"We can then start asking some questions to the dataset. For instance:"}),(0,a.jsx)("br",{}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"'Which compounds exhibit sub-micromolar IC50 activity against kinase targets such as SRC, BTK, MAPK1, ABL1, AKT1, and PIK3CA?'"})}),(0,a.jsxs)(r,{style:{backgroundColor:"transparent",border:"none",boxShadow:"none",padding:"0"},children:[(0,a.jsx)("summary",{children:(0,a.jsx)("b",{children:"SPARQL query"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sparql",children:'PREFIX ex: <http://example.org/schema/>\nPREFIX chemblm: <https://identifiers.org/chembl.compound/>\nPREFIX chemblt: <https://identifiers.org/chembl.target/>\n\nSELECT DISTINCT ?compound ?target ?uniprot ?value ?type\nWHERE {\n  GRAPH <http://example.org/graph/chembl-kinase-slice> {\n    ?activity a ex:Activity ;\n              ex:ofCompound ?compound ;\n              ex:onTarget ?target ;\n              ex:value ?value ;\n              ex:activityType ?type .\n\n    ?target a ex:Protein ;\n            ex:uniprotAcc ?uniprot .\n\n    FILTER(?uniprot IN (\n      "P12931",  # SRC\n      "P06239",  # SRC-family\n      "P42680",  # BTK\n      "P28482",  # MAPK1\n      "P00519",  # ABL1\n      "P31749",  # AKT1\n      "P42336"   # PIK3CA\n    ))\n    FILTER(?type = "IC50")\n    FILTER(xsd:double(?value) < 1000)\n  }\n}\nLIMIT 10\n'})})]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"SPARQL Example 1",src:t(8672).A+"",width:"2275",height:"402"})}),(0,a.jsx)("br",{}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"'Which ChEMBL kinase targets are expressed in normal kidney cortex with TPM > 1?'"})}),(0,a.jsxs)(r,{style:{backgroundColor:"transparent",border:"none",boxShadow:"none",padding:"0"},children:[(0,a.jsx)("summary",{children:(0,a.jsx)(n.strong,{children:"SPARQL query"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sparql",children:'PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX chemblt: <https://identifiers.org/chembl.target/>\nPREFIX chemblm: <https://identifiers.org/chembl.compound/>\nPREFIX ex: <http://example.org/schema/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX sio: <http://semanticscience.org/resource/>\n\nSELECT DISTINCT ?target ?uniprot ?ensembl ?sample ?tpm\nWHERE {\n  GRAPH <http://example.org/graph/chembl-kinase-slice> {\n    ?target a ex:Protein ;\n            ex:uniprotAcc ?uniprot .\n  }\n  BIND(IRI(CONCAT("http://purl.uniprot.org/uniprot/", ?uniprot)) AS ?uniprotIRI)\n\n  GRAPH <http://example.org/graph/linkset-idmap> {\n    ?uniprotIRI owl:sameAs ?ensembl .\n  }\n  GRAPH <http://example.org/graph/gtex-expr-v9> {\n    ?expr sio:isAbout ?ensembl ;\n          sio:isPartOf ?sample ;\n          sio:has_value ?tpm ;\n          sio:has_unit <http://purl.gtex/TPM> .\n\n    ?sample sio:isAbout <http://purl.obolibrary.org/obo/UBERON_0002113>  # Kidney cortex\n  }\n\n  FILTER(xsd:float(?tpm) > 1)\n}\nORDER BY DESC(xsd:float(?tpm))\nLIMIT 10\n\n'})})]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"SPARQL Example 2",src:t(9963).A+"",width:"2288",height:"405"})}),(0,a.jsx)("br",{}),(0,a.jsx)(n.p,{children:"I am working on providing more examples as I move the project to AWS/GCP that would bypassing my current hardware limitations."}),(0,a.jsx)(n.h2,{id:"ai-integration",children:"AI Integration"}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.p,{children:"I am also working on integrating the project with an LLM/AI Agent in order to generate an output out of natural language by providing context about the database. Here's a tentative prompt:"}),(0,a.jsxs)(r,{style:{backgroundColor:"transparent",border:"none",boxShadow:"none",padding:"0"},children:[(0,a.jsx)("summary",{children:(0,a.jsx)(n.strong,{children:"Prompt Template"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'You are a biomedical assistant that translates natural language into SPARQL queries.\n\nYour knowledge base is a RDF GraphDB instance using named graphs and biomedical ontologies.\nUse Turtle prefixes where applicable. Only generate valid SPARQL.\n\nYou know the following named graphs:\n\n- Gene expression (GTEx): <http://example.org/graph/gtex-expr-v9>\n- Kinase compound bioactivity (ChEMBL): <http://example.org/graph/chembl-kinase-slice>\n- Protein mappings (UniProt \u2194 Ensembl): <http://example.org/graph/protein-mapping>\n- Disease annotations: <http://example.org/graph/disease-ontology>\n\nCommon prefixes:\n\nPREFIX chembl: http://rdf.ebi.ac.uk/resource/chembl/molecule/\nPREFIX up: http://purl.uniprot.org/uniprot/\nPREFIX ensg: http://identifiers.org/ensembl/\nPREFIX sio: http://semanticscience.org/resource/\nPREFIX dct: http://purl.org/dc/terms/\nPREFIX rdfs: http://www.w3.org/2000/01/rdf-schema#\nPREFIX owl: http://www.w3.org/2002/07/owl#\nPREFIX gtex: http://example.org/vocab/gtex#\n\nYou should only return SPARQL inside triple quotes. Do not explain anything.\n\n**Q1:** What are the targets of imatinib?\n\nSELECT DISTINCT ?target ?targetLabel\nFROM http://example.org/graph/chembl-kinase-slice\nWHERE {\n  ?activity a sio:Activity ;\n            sio:hasParticipant chembl:CHEMBL941 ; # imatinib\n            sio:hasTarget ?target .\n  ?target rdfs:label ?targetLabel .\n}\n\n**Q2:** Which tissues express the gene BRCA1?\n\nSELECT ?tissue ?expressionLevel\nFROM http://example.org/graph/gtex-expr-v9\nWHERE {\n  ?obs gtex:gene ensg:ENSG00000012048 ; # BRCA1\n       gtex:tissue ?tissue ;\n       gtex:expression ?expressionLevel .\n}\n\n**Q3:** Get all kinase targets that are mapped to UniProt IDs\n\nSELECT DISTINCT ?ensemblGene ?uniprot\nFROM http://example.org/graph/protein-mapping\nWHERE {\n  ?ensembl owl:sameAs ?uniprot .\n  FILTER(STRSTARTS(STR(?uniprot), "http://purl.uniprot.org/uniprot/"))\n}\n\nWhen ready, answer the following question with a valid SPARQL query only. Do not explain.\n\n**QUESTION:**\n{{ user_query }}\n\n'})})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(6540);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}},8672:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/sparql_example_1-0166c7d9cf51b54b79a7fa69fb9875a4.png"},9963:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/sparql_example_2-a994de65a055edf0845dd330656c052f.png"}}]);